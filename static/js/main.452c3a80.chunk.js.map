{"version":3,"sources":["Header.js","Conecta.js","Registro.js","App.js","index.js"],"names":["Header","className","src","alt","width","Component","Conecta","axios","create","baseURL","Registro","state","nome","treino","foto","aviso","limpar","setState","initialState","handleChange","e","target","name","value","habilitarCamera","a","navigator","mediaDevices","getUserMedia","video","then","mediaStream","document","getElementById","style","visibility","srcObject","onloadedmetadata","play","catch","err","console","log","message","capturarFoto","canvas","getContext","drawImage","pause","toDataURL","handleSubmit","preventDefault","tempoAviso","formData","FormData","append","config","headers","post","reg","data","id","tempo","setTimeout","this","onSubmit","encType","htmlFor","type","autoFocus","onChange","onClick","height","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.452c3a80.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12 bg-danger text-white py-2\">\r\n            <img src=\"logo.png\" alt=\"Treino\" width=\"120\" className=\"float-left mx-1\" />\r\n            <h1>Academia Avenida</h1>\r\n            <h4>Registro de Treinos</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst Conecta = axios.create({baseURL: 'http://aulaswebsenac.000webhostapp.com/'})\r\n\r\nexport default Conecta","import React, { Component } from 'react'\r\nimport Conecta from './Conecta'\r\n\r\nexport default class Registro extends Component {\r\n  state = {\r\n    nome: '',\r\n    treino: '',\r\n    foto: '',\r\n    aviso: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialState = this.state\r\n  }\r\n\r\n  limpar = () => {\r\n    this.setState(this.initialState)\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  habilitarCamera = async () => {\r\n    // Obtém acesso à câmera...\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n\r\n      await navigator.mediaDevices.getUserMedia({ video: true })\r\n        .then(function (mediaStream) {\r\n          var video = document.getElementById('video')\r\n          video.style.visibility = \"visible\"\r\n          video.srcObject = mediaStream;\r\n          video.onloadedmetadata = function (e) {\r\n            video.play();\r\n          };\r\n        })\r\n        .catch(function (err) { console.log(err.name + \": \" + err.message); });\r\n    }\r\n  }\r\n\r\n  capturarFoto = () => {\r\n    var canvas = document.getElementById('canvas')\r\n    var video = document.getElementById('video')\r\n\r\n    var context = canvas.getContext('2d')\r\n\r\n    // desenha no canvas a imagem do vídeo\r\n    context.drawImage(video, 0, 0, 320, 240)\r\n\r\n    // pausa e esconde a câmera \r\n    video.pause()\r\n    video.style.visibility = \"hidden\"\r\n\r\n    // muda o state com a imagem\r\n    this.setState({ foto: canvas.toDataURL(\"image/png\") })\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    // evita o funcionamento padrão do método \r\n    // (ou seja, no evento submit, enviar o form)\r\n    e.preventDefault();\r\n\r\n    if (this.state.nome === '' || this.state.treino === '' || this.state.foto === '') {\r\n      this.setState({ aviso: 'Por favor, preencha nome, treino e foto' })\r\n      this.tempoAviso()\r\n      return\r\n    }\r\n\r\n    const formData = new FormData()\r\n    formData.append('nome',this.state.nome)\r\n    formData.append('treino',this.state.treino)\r\n    formData.append('foto',this.state.foto)\r\n\r\n    const config = {\r\n        headers: {\r\n            'content-type': 'multipart/form-data'\r\n        }\r\n    }\r\n\r\n    try {\r\n      const reg = await Conecta.post('inc_treino.php', formData, config)\r\n      this.limpar()\r\n      this.setState({ aviso: `Ok! Treino cadastrado com sucesso - código ${reg.data[0].id}` })\r\n    } catch (erro) {\r\n      this.setState({ aviso: `Erro... Treino não inserido: ${erro}` })\r\n    }\r\n\r\n    this.tempoAviso()\r\n  }\r\n\r\n  tempoAviso = (tempo = 3000) => {\r\n    setTimeout(() => {\r\n      this.setState({ aviso: '' })\r\n    }, tempo)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"mx-4 mt-3\" onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-6\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nome\">Nome do Aluno:</label>\r\n              <input type=\"text\" className=\"form-control\" autoFocus\r\n                name=\"nome\" id=\"nome\"\r\n                onChange={this.handleChange}\r\n                value={this.state.nome} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"treino\">Treino:</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"treino\" id=\"treino\"\r\n                onChange={this.handleChange}\r\n                value={this.state.treino} />\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-4\">\r\n                <input type=\"reset\" className=\"btn btn-success btn-block mt-1\"\r\n                  onClick={this.habilitarCamera} value=\"Habilitar Câmera\" />\r\n              </div>\r\n              <div className=\"col-sm-4\">\r\n                <input type=\"reset\" className=\"btn btn-danger btn-block mt-1\"\r\n                  onClick={this.limpar} value=\"Limpar\" />\r\n              </div>\r\n              <div className=\"col-sm-4\">\r\n                <input type=\"submit\" className=\"btn btn-primary btn-block mt-1\"\r\n                  value=\"Gravar\" />\r\n              </div>\r\n            </div>\r\n            {this.state.aviso !== '' ?\r\n            <div className='alert alert-info mt-4'>\r\n              {this.state.aviso}\r\n            </div>\r\n            : ''\r\n          }\r\n          </div>\r\n          <div className=\"col-sm-6\">\r\n            <video id=\"video\" width=\"320\" height=\"240\"></video>\r\n            <canvas id=\"canvas\" width=\"320\" height=\"240\"></canvas>\r\n\r\n            <input type=\"button\" className=\"btn btn-danger float-right mt-3 px-5\"\r\n              onClick={this.capturarFoto} value=\"Capturar Foto\" />\r\n          </div>\r\n        </div>\r\n      </form >\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\n\nimport Header from './Header'\nimport Registro from './Registro'\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Registro />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}