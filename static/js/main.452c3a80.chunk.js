(this.webpackJsonpacademia=this.webpackJsonpacademia||[]).push([[0],{21:function(e,t,a){e.exports=a(44)},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),c=a(3),s=a(4),l=a(6),m=a(5),u=a(7),d=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 bg-danger text-white py-2"},r.a.createElement("img",{src:"logo.png",alt:"Treino",width:"120",className:"float-left mx-1"}),r.a.createElement("h1",null,"Academia Avenida"),r.a.createElement("h4",null,"Registro de Treinos"))))}}]),t}(n.Component),p=a(2),v=a.n(p),h=a(8),b=a(19),f=a(20),g=a.n(f).a.create({baseURL:"http://aulaswebsenac.000webhostapp.com/"}),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nome:"",treino:"",foto:"",aviso:""},a.limpar=function(){a.setState(a.initialState)},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.habilitarCamera=Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=3;break}return e.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var t=document.getElementById("video");t.style.visibility="visible",t.srcObject=e,t.onloadedmetadata=function(e){t.play()}})).catch((function(e){console.log(e.name+": "+e.message)}));case 3:case"end":return e.stop()}}),e)}))),a.capturarFoto=function(){var e=document.getElementById("canvas"),t=document.getElementById("video");e.getContext("2d").drawImage(t,0,0,320,240),t.pause(),t.style.visibility="hidden",a.setState({foto:e.toDataURL("image/png")})},a.handleSubmit=function(){var e=Object(h.a)(v.a.mark((function e(t){var n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a.state.nome&&""!==a.state.treino&&""!==a.state.foto){e.next=5;break}return a.setState({aviso:"Por favor, preencha nome, treino e foto"}),a.tempoAviso(),e.abrupt("return");case 5:return(n=new FormData).append("nome",a.state.nome),n.append("treino",a.state.treino),n.append("foto",a.state.foto),r={headers:{"content-type":"multipart/form-data"}},e.prev=10,e.next=13,g.post("inc_treino.php",n,r);case 13:o=e.sent,a.limpar(),a.setState({aviso:"Ok! Treino cadastrado com sucesso - c\xf3digo ".concat(o.data[0].id)}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),a.setState({aviso:"Erro... Treino n\xe3o inserido: ".concat(e.t0)});case 21:a.tempoAviso();case 22:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}(),a.tempoAviso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setTimeout((function(){a.setState({aviso:""})}),e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.initialState=this.state}},{key:"render",value:function(){return r.a.createElement("form",{className:"mx-4 mt-3",onSubmit:this.handleSubmit,encType:"multipart/form-data"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome do Aluno:"),r.a.createElement("input",{type:"text",className:"form-control",autoFocus:!0,name:"nome",id:"nome",onChange:this.handleChange,value:this.state.nome})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"treino"},"Treino:"),r.a.createElement("input",{type:"text",className:"form-control",name:"treino",id:"treino",onChange:this.handleChange,value:this.state.treino})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"reset",className:"btn btn-success btn-block mt-1",onClick:this.habilitarCamera,value:"Habilitar C\xe2mera"})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"reset",className:"btn btn-danger btn-block mt-1",onClick:this.limpar,value:"Limpar"})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-1",value:"Gravar"}))),""!==this.state.aviso?r.a.createElement("div",{className:"alert alert-info mt-4"},this.state.aviso):""),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("video",{id:"video",width:"320",height:"240"}),r.a.createElement("canvas",{id:"canvas",width:"320",height:"240"}),r.a.createElement("input",{type:"button",className:"btn btn-danger float-right mt-3 px-5",onClick:this.capturarFoto,value:"Capturar Foto"}))))}}]),t}(n.Component);var y=function(){return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(E,null))};i.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.452c3a80.chunk.js.map